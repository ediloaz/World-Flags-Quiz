// Países más conocidos (nivel fácil)
export const famousCountries = [
  { code: "US", name: "Estados Unidos" },
  { code: "GB", name: "Reino Unido" },
  { code: "FR", name: "Francia" },
  { code: "DE", name: "Alemania" },
  { code: "IT", name: "Italia" },
  { code: "ES", name: "España" },
  { code: "JP", name: "Japón" },
  { code: "CN", name: "China" },
  { code: "RU", name: "Rusia" },
  { code: "BR", name: "Brasil" },
  { code: "MX", name: "México" },
  { code: "AR", name: "Argentina" },
  { code: "CA", name: "Canadá" },
  { code: "AU", name: "Australia" },
  { code: "IN", name: "India" },
  { code: "ZA", name: "Sudáfrica" },
  { code: "EG", name: "Egipto" },
  { code: "TR", name: "Turquía" },
  { code: "NL", name: "Países Bajos" },
  { code: "BE", name: "Bélgica" },
  { code: "PT", name: "Portugal" },
  { code: "GR", name: "Grecia" },
  { code: "SE", name: "Suecia" },
  { code: "NO", name: "Noruega" },
  { code: "DK", name: "Dinamarca" },
  { code: "FI", name: "Finlandia" },
  { code: "PL", name: "Polonia" },
  { code: "CZ", name: "República Checa" },
  { code: "CH", name: "Suiza" },
  { code: "AT", name: "Austria" },
  { code: "IE", name: "Irlanda" },
  { code: "NZ", name: "Nueva Zelanda" },
  { code: "CL", name: "Chile" },
  { code: "CO", name: "Colombia" },
  { code: "PE", name: "Perú" },
  { code: "VE", name: "Venezuela" },
  { code: "CR", name: "Costa Rica" },
  { code: "PA", name: "Panamá" },
  { code: "UY", name: "Uruguay" },
  { code: "PY", name: "Paraguay" },
  { code: "BO", name: "Bolivia" },
  { code: "EC", name: "Ecuador" },
  { code: "GT", name: "Guatemala" },
  { code: "HN", name: "Honduras" },
  { code: "NI", name: "Nicaragua" },
  { code: "SV", name: "El Salvador" },
  { code: "PR", name: "Puerto Rico" },
  { code: "DO", name: "República Dominicana" },
  { code: "HT", name: "Haití" },
  { code: "JM", name: "Jamaica" },
  { code: "BS", name: "Bahamas" },
  { code: "TT", name: "Trinidad y Tobago" },
  { code: "VC", name: "San Vicente y las Granadinas" },
  { code: "GD", name: "Granada" },
];

// Países menos conocidos para el modo mixto
export const lessKnownCountries = [
  { code: "AD", name: "Andorra" },
  { code: "LI", name: "Liechtenstein" },
  { code: "MC", name: "Mónaco" },
  { code: "SM", name: "San Marino" },
  { code: "VA", name: "Ciudad del Vaticano" },
  { code: "BT", name: "Bután" },
  { code: "TL", name: "Timor Oriental" },
  { code: "FM", name: "Micronesia" },
  { code: "PW", name: "Palaos" },
  { code: "MH", name: "Islas Marshall" },
  { code: "KI", name: "Kiribati" },
  { code: "TV", name: "Tuvalu" },
  { code: "NR", name: "Nauru" },
  { code: "TO", name: "Tonga" },
  { code: "WS", name: "Samoa" },
  { code: "VU", name: "Vanuatu" },
  { code: "SB", name: "Islas Salomón" },
  { code: "FJ", name: "Fiyi" },
  { code: "PG", name: "Papúa Nueva Guinea" },
  { code: "BN", name: "Brunéi" },
  { code: "CV", name: "Cabo Verde" },
  { code: "ST", name: "Santo Tomé y Príncipe" },
  { code: "GW", name: "Guinea-Bisáu" },
  { code: "GQ", name: "Guinea Ecuatorial" },
  { code: "DJ", name: "Yibuti" },
  { code: "KM", name: "Comoras" },
  { code: "SC", name: "Seychelles" },
  { code: "MU", name: "Mauricio" },
  { code: "MV", name: "Maldivas" },
  { code: "LS", name: "Lesoto" },
  { code: "SZ", name: "Esuatini" },
  { code: "BW", name: "Botsuana" },
  { code: "NA", name: "Namibia" },
  { code: "BI", name: "Burundi" },
  { code: "RW", name: "Ruanda" },
  { code: "BJ", name: "Benín" },
  { code: "TG", name: "Togo" },
  { code: "SL", name: "Sierra Leona" },
  { code: "LR", name: "Liberia" },
  { code: "GM", name: "Gambia" },
  { code: "BF", name: "Burkina Faso" },
  { code: "NE", name: "Níger" },
  { code: "TD", name: "Chad" },
  { code: "CF", name: "República Centroafricana" },
  { code: "ER", name: "Eritrea" },
  { code: "SO", name: "Somalia" },
  { code: "YE", name: "Yemen" },
  { code: "OM", name: "Omán" },
  { code: "QA", name: "Catar" },
  { code: "BH", name: "Baréin" },
  { code: "KW", name: "Kuwait" },
  { code: "JO", name: "Jordania" },
  { code: "LB", name: "Líbano" },
  { code: "SY", name: "Siria" },
  { code: "IQ", name: "Irak" },
  { code: "GE", name: "Georgia" },
  { code: "AM", name: "Armenia" },
  { code: "AZ", name: "Azerbaiyán" },
  { code: "KZ", name: "Kazajistán" },
  { code: "UZ", name: "Uzbekistán" },
  { code: "TM", name: "Turkmenistán" },
  { code: "TJ", name: "Tayikistán" },
  { code: "KG", name: "Kirguistán" },
  { code: "MN", name: "Mongolia" },
  { code: "NP", name: "Nepal" },
  { code: "AF", name: "Afganistán" },
  { code: "PK", name: "Pakistán" },
  { code: "BD", name: "Bangladés" },
  { code: "MM", name: "Myanmar" },
  { code: "LA", name: "Laos" },
  { code: "KH", name: "Camboya" },
  { code: "VN", name: "Vietnam" },
  { code: "MY", name: "Malasia" },
  { code: "SG", name: "Singapur" },
  { code: "ID", name: "Indonesia" },
  { code: "PH", name: "Filipinas" },
  { code: "TH", name: "Tailandia" },
  { code: "LK", name: "Sri Lanka" },
  { code: "IS", name: "Islandia" },
  { code: "LU", name: "Luxemburgo" },
  { code: "MT", name: "Malta" },
  { code: "CY", name: "Chipre" },
  { code: "HR", name: "Croacia" },
  { code: "SI", name: "Eslovenia" },
  { code: "SK", name: "Eslovaquia" },
  { code: "HU", name: "Hungría" },
  { code: "RO", name: "Rumania" },
  { code: "BG", name: "Bulgaria" },
  { code: "RS", name: "Serbia" },
  { code: "ME", name: "Montenegro" },
  { code: "BA", name: "Bosnia y Herzegovina" },
  { code: "MK", name: "Macedonia del Norte" },
  { code: "AL", name: "Albania" },
  { code: "EE", name: "Estonia" },
  { code: "LV", name: "Letonia" },
  { code: "LT", name: "Lituania" },
  { code: "BY", name: "Bielorrusia" },
  { code: "UA", name: "Ucrania" },
  { code: "MD", name: "Moldavia" },
];

/**
 * Obtiene una lista de países según la dificultad
 */
export function getCountriesByDifficulty(difficulty: "famous" | "mixed"): Array<{ code: string; name: string }> {
  if (difficulty === "famous") {
    return famousCountries;
  }
  // Mezclado: combina famosos y menos conocidos
  return [...famousCountries, ...lessKnownCountries];
}

/**
 * Genera una pregunta aleatoria
 */
export function generateQuestion(
  availableCountries: Array<{ code: string; name: string }>,
  usedCountries: Set<string>
): { countryCode: string; countryName: string; options: string[] } | null {
  // Filtrar países no usados
  const unusedCountries = availableCountries.filter(c => !usedCountries.has(c.code));
  
  if (unusedCountries.length === 0) {
    return null;
  }

  // Seleccionar país correcto
  const correctCountry = unusedCountries[Math.floor(Math.random() * unusedCountries.length)];
  
  // Generar opciones incorrectas
  const wrongCountries = availableCountries
    .filter(c => c.code !== correctCountry.code)
    .sort(() => Math.random() - 0.5)
    .slice(0, 3);

  const options = [correctCountry.name, ...wrongCountries.map(c => c.name)]
    .sort(() => Math.random() - 0.5);

  return {
    countryCode: correctCountry.code,
    countryName: correctCountry.name,
    options,
  };
}

